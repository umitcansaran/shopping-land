{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Col,Form,Row}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{search}from\"../../store/actions/searchAction\";import{listStoreStocks}from\"../../store/actions/storeActions\";import{STORE_STOCKS_RESET}from\"../../store/constants/storeConstants\";import Loader from\"../../components/Loader\";import useDebounce from\"../../utils/useDebounce\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function StoreStocks(_ref){let{store}=_ref;const[value,setValue]=useState(\"\");const[storeId,setStoreId]=useState(\"\");const dispatch=useDispatch();const debouncedSearchTerm=useDebounce(value,500);const{stocks,loading}=useSelector(state=>state.storeStocks);useEffect(()=>{if(value===\"\"){dispatch(listStoreStocks(store.id));}dispatch({type:STORE_STOCKS_RESET});},[dispatch,value,store.id]);useEffect(()=>{dispatch(search({type:\"products_in_my_store\",store:storeId,searchString:debouncedSearchTerm}));},[debouncedSearchTerm]);const searchHandler=(e,store_id)=>{setValue(e.target.value);setStoreId(store_id);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",children:/*#__PURE__*/_jsx(Row,{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{md:12,xl:10,children:[/*#__PURE__*/_jsx(Row,{className:\"d-flex justify-content-center mb-2\",children:/*#__PURE__*/_jsx(Col,{xs:10,sm:8,md:6,xl:6,children:/*#__PURE__*/_jsx(Form,{className:\"d-flex justify-content-center my-1\",style:{height:\"2rem\"},children:/*#__PURE__*/_jsx(Form.Control,{type:\"search\",placeholder:\"Search for id, brand or product name\",\"aria-label\":\"Search\",value:value,onChange:e=>searchHandler(e,store.id)})})})}),/*#__PURE__*/_jsxs(Row,{className:\"text-center\",style:{fontSize:\"0.8rem\"},children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"ID\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"BRAND\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"NAME\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"PRICE\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"CATEGORY\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"STOCK\"})})]}),stocks===null||stocks===void 0?void 0:stocks.map((stock,index)=>{return/*#__PURE__*/_jsxs(Row,{className:\"text-center my-1 py-1\",style:{border:\"solid 0.07rem lightgrey\",backgroundColor:\"#f2f5fa\",borderRadius:\"5px 5px 5px 5px\"},children:[/*#__PURE__*/_jsx(Col,{children:stock.product.id}),/*#__PURE__*/_jsx(Col,{children:stock.product.brand}),/*#__PURE__*/_jsx(Col,{children:stock.product.name}),/*#__PURE__*/_jsx(Col,{children:stock.product.price}),/*#__PURE__*/_jsx(Col,{children:stock.product.category}),/*#__PURE__*/_jsx(Col,{children:stock.number})]});})]})})})})});}","map":{"version":3,"names":["React","useEffect","useState","Col","Form","Row","useDispatch","useSelector","search","listStoreStocks","STORE_STOCKS_RESET","Loader","useDebounce","StoreStocks","store","value","setValue","storeId","setStoreId","dispatch","debouncedSearchTerm","stocks","loading","state","storeStocks","id","type","searchString","searchHandler","e","store_id","target","height","fontSize","map","stock","index","border","backgroundColor","borderRadius","product","brand","name","price","category","number"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/MyStores/StoreStocks.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Col, Form, Row } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { search } from \"../../store/actions/searchAction\";\nimport { listStoreStocks } from \"../../store/actions/storeActions\";\nimport { STORE_STOCKS_RESET } from \"../../store/constants/storeConstants\";\nimport Loader from \"../../components/Loader\";\nimport useDebounce from \"../../utils/useDebounce\";\nexport default function StoreStocks({ store }) {\n  const [value, setValue] = useState(\"\");\n  const [storeId, setStoreId] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const debouncedSearchTerm = useDebounce(value, 500);\n\n  const { stocks, loading } = useSelector((state) => state.storeStocks);\n\n  useEffect(() => {\n    if (value === \"\") {\n      dispatch(listStoreStocks(store.id));\n    }\n    dispatch({ type: STORE_STOCKS_RESET });\n  }, [dispatch, value, store.id]);\n\n  useEffect(() => {\n    dispatch(\n      search({\n        type: \"products_in_my_store\",\n        store: storeId,\n        searchString: debouncedSearchTerm,\n      })\n    );\n  }, [debouncedSearchTerm]);\n\n  const searchHandler = (e, store_id) => {\n    setValue(e.target.value);\n    setStoreId(store_id);\n  };\n\n  return (\n    <>\n      <tr>\n        <td colSpan=\"6\">\n          <Row className=\"d-flex justify-content-center\">\n            <Col md={12} xl={10}>\n              <Row className=\"d-flex justify-content-center mb-2\">\n                <Col xs={10} sm={8} md={6} xl={6}>\n                  <Form\n                    className=\"d-flex justify-content-center my-1\"\n                    style={{ height: \"2rem\" }}\n                  >\n                    <Form.Control\n                      type=\"search\"\n                      placeholder=\"Search for id, brand or product name\"\n                      aria-label=\"Search\"\n                      value={value}\n                      onChange={(e) => searchHandler(e, store.id)}\n                    />\n                  </Form>\n                </Col>\n              </Row>\n              <Row className=\"text-center\" style={{ fontSize: \"0.8rem\" }}>\n                <Col>\n                  <strong>ID</strong>\n                </Col>\n                <Col>\n                  <strong>BRAND</strong>\n                </Col>\n                <Col>\n                  <strong>NAME</strong>\n                </Col>\n                <Col>\n                  <strong>PRICE</strong>\n                </Col>\n                <Col>\n                  <strong>CATEGORY</strong>\n                </Col>\n                <Col>\n                  <strong>STOCK</strong>\n                </Col>\n              </Row>\n              {stocks?.map((stock, index) => {\n                return (\n                  <Row\n                    className=\"text-center my-1 py-1\"\n                    style={{\n                      border: \"solid 0.07rem lightgrey\",\n                      backgroundColor: \"#f2f5fa\",\n                      borderRadius: \"5px 5px 5px 5px\",\n                    }}\n                  >\n                    <Col>{stock.product.id}</Col>\n                    <Col>{stock.product.brand}</Col>\n                    <Col>{stock.product.name}</Col>\n                    <Col>{stock.product.price}</Col>\n                    <Col>{stock.product.category}</Col>\n                    <Col>{stock.number}</Col>\n                  </Row>\n                );\n              })}\n            </Col>\n          </Row>\n        </td>\n      </tr>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}