{"ast":null,"code":"import { baseUrl } from \"../constants\";\nimport axios from \"axios\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD, CART_CLEAR_ITEMS } from \"../constants/cartConstants\";\nexport const addToCart = (id, quantity, orderType, productStock, stockId, storeName, storeId) => async (dispatch, getState) => {\n  const {\n    data\n  } = await axios.get(`${baseUrl}/api/products/${id}`);\n  dispatch({\n    type: CART_ADD_ITEM,\n    payload: {\n      id: data.id,\n      brand: data.brand,\n      name: data.name,\n      image: data.image,\n      price: data.price,\n      stocks: data.stocks,\n      quantity,\n      storeName,\n      productStock,\n      stockId,\n      storeId,\n      seller: data.sellerDetails.name,\n      sellerId: data.sellerDetails.id,\n      orderType\n    }\n  });\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\n};\nexport const removeFromCart = id => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: id\n  });\n  const itemRemoved = getState().cart.cartItems.filter(item => item.id !== id);\n  itemRemoved.length === 0 ? localStorage.removeItem(\"cartItems\") : localStorage.setItem(\"cartItems\", JSON.stringify(itemRemoved));\n};\nexport const emptyCart = () => dispatch => {\n  dispatch({\n    type: CART_CLEAR_ITEMS\n  });\n  localStorage.removeItem(\"cartItems\");\n};\nexport const saveShippingAddress = data => dispatch => {\n  dispatch({\n    type: CART_SAVE_SHIPPING_ADDRESS,\n    payload: data\n  });\n  localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\n};\nexport const savePaymentMethod = data => dispatch => {\n  dispatch({\n    type: CART_SAVE_PAYMENT_METHOD,\n    payload: data\n  });\n  localStorage.setItem(\"paymentMethod\", JSON.stringify(data));\n};","map":{"version":3,"names":["baseUrl","axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","addToCart","id","quantity","orderType","productStock","stockId","storeName","storeId","dispatch","getState","data","get","type","payload","brand","name","image","price","stocks","seller","sellerDetails","sellerId","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","itemRemoved","filter","item","length","removeItem","emptyCart","saveShippingAddress","savePaymentMethod"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/store/actions/cartActions.js"],"sourcesContent":["import { baseUrl } from \"../constants\";\nimport axios from \"axios\";\nimport {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD,\n  CART_CLEAR_ITEMS,\n} from \"../constants/cartConstants\";\n\nexport const addToCart =\n  (id, quantity, orderType, productStock, stockId, storeName, storeId) =>\n  async (dispatch, getState) => {\n    const { data } = await axios.get(`${baseUrl}/api/products/${id}`);\n\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        id: data.id,\n        brand: data.brand,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        stocks: data.stocks,\n        quantity,\n        storeName,\n        productStock,\n        stockId,\n        storeId,\n        seller: data.sellerDetails.name,\n        sellerId: data.sellerDetails.id,\n        orderType,\n      },\n    });\n    localStorage.setItem(\n      \"cartItems\",\n      JSON.stringify(getState().cart.cartItems)\n    );\n  };\n\nexport const removeFromCart = (id) => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: id,\n  });\n\n  const itemRemoved = getState().cart.cartItems.filter(\n    (item) => item.id !== id\n  );\n\n  itemRemoved.length === 0\n    ? localStorage.removeItem(\"cartItems\")\n    : localStorage.setItem(\"cartItems\", JSON.stringify(itemRemoved));\n};\n\nexport const emptyCart = () => (dispatch) => {\n  dispatch({\n    type: CART_CLEAR_ITEMS,\n  });\n\n  localStorage.removeItem(\"cartItems\");\n};\n\nexport const saveShippingAddress = (data) => (dispatch) => {\n  dispatch({\n    type: CART_SAVE_SHIPPING_ADDRESS,\n    payload: data,\n  });\n\n  localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\n};\n\nexport const savePaymentMethod = (data) => (dispatch) => {\n  dispatch({\n    type: CART_SAVE_PAYMENT_METHOD,\n    payload: data,\n  });\n\n  localStorage.setItem(\"paymentMethod\", JSON.stringify(data));\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,cAAc;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,SACEC,aAAa,EACbC,gBAAgB,EAChBC,0BAA0B,EAC1BC,wBAAwB,EACxBC,gBAAgB,QACX,4BAA4B;AAEnC,OAAO,MAAMC,SAAS,GACpB,CAACC,EAAE,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,YAAY,EAAEC,OAAO,EAAEC,SAAS,EAAEC,OAAO,KACnE,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC5B,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,GAAElB,OAAQ,iBAAgBQ,EAAG,EAAC,CAAC;EAEjEO,QAAQ,CAAC;IACPI,IAAI,EAAEjB,aAAa;IACnBkB,OAAO,EAAE;MACPZ,EAAE,EAAES,IAAI,CAACT,EAAE;MACXa,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,IAAI,EAAEL,IAAI,CAACK,IAAI;MACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,KAAK,EAAEP,IAAI,CAACO,KAAK;MACjBC,MAAM,EAAER,IAAI,CAACQ,MAAM;MACnBhB,QAAQ;MACRI,SAAS;MACTF,YAAY;MACZC,OAAO;MACPE,OAAO;MACPY,MAAM,EAAET,IAAI,CAACU,aAAa,CAACL,IAAI;MAC/BM,QAAQ,EAAEX,IAAI,CAACU,aAAa,CAACnB,EAAE;MAC/BE;IACF;EACF,CAAC,CAAC;EACFmB,YAAY,CAACC,OAAO,CAClB,WAAW,EACXC,IAAI,CAACC,SAAS,CAAChB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAAC,CAC1C;AACH,CAAC;AAEH,OAAO,MAAMC,cAAc,GAAI3B,EAAE,IAAK,CAACO,QAAQ,EAAEC,QAAQ,KAAK;EAC5DD,QAAQ,CAAC;IACPI,IAAI,EAAEhB,gBAAgB;IACtBiB,OAAO,EAAEZ;EACX,CAAC,CAAC;EAEF,MAAM4B,WAAW,GAAGpB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAACG,MAAM,CACjDC,IAAI,IAAKA,IAAI,CAAC9B,EAAE,KAAKA,EAAE,CACzB;EAED4B,WAAW,CAACG,MAAM,KAAK,CAAC,GACpBV,YAAY,CAACW,UAAU,CAAC,WAAW,CAAC,GACpCX,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACI,WAAW,CAAC,CAAC;AACpE,CAAC;AAED,OAAO,MAAMK,SAAS,GAAG,MAAO1B,QAAQ,IAAK;EAC3CA,QAAQ,CAAC;IACPI,IAAI,EAAEb;EACR,CAAC,CAAC;EAEFuB,YAAY,CAACW,UAAU,CAAC,WAAW,CAAC;AACtC,CAAC;AAED,OAAO,MAAME,mBAAmB,GAAIzB,IAAI,IAAMF,QAAQ,IAAK;EACzDA,QAAQ,CAAC;IACPI,IAAI,EAAEf,0BAA0B;IAChCgB,OAAO,EAAEH;EACX,CAAC,CAAC;EAEFY,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAC;AAC/D,CAAC;AAED,OAAO,MAAM0B,iBAAiB,GAAI1B,IAAI,IAAMF,QAAQ,IAAK;EACvDA,QAAQ,CAAC;IACPI,IAAI,EAAEd,wBAAwB;IAC9Be,OAAO,EAAEH;EACX,CAAC,CAAC;EAEFY,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAC;AAC7D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}