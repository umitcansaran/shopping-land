{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{Form,Button,Nav}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Message from\"../../components/Message\";import Loader from\"../../components/Loader\";import FormContainer from\"../../components/FormContainer\";import{register}from\"../../store/actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[profile,setProfile]=useState(\"CUSTOMER\");const[message,setMessage]=useState(null);const dispatch=useDispatch();const navigate=useNavigate();const{error:registrationError}=useSelector(state=>state.userRegister);const{error:loginError,loading,userInfo}=useSelector(state=>state.userLogin);useEffect(()=>{if(userInfo){navigate(\"/\");}},[navigate,userInfo]);const submitHandler=e=>{e.preventDefault();if(password!==confirmPassword){setMessage(\"Passwords do not match\");}else{dispatch(register(username,email,password,profile));}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsxs(Nav,{variant:\"pills\",defaultActiveKey:\"customer\",className:\"justify-content-center mt-3\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{onClick:()=>{setProfile(\"CUSTOMER\");},eventKey:\"customer\",style:{width:\"7.6rem\",textAlign:\"center\"},children:\"Customer\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{onClick:()=>{setProfile(\"STORE_OWNER\");},eventKey:\"store-owner\",style:{width:\"7.6rem\",textAlign:\"center\"},children:\"Seller\"})})]}),message&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:message}),(loginError||registrationError)&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:loginError||registrationError}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginTop:\"1rem\"},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"blue-button\",children:\"Register\"})})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Form","Button","Nav","useDispatch","useSelector","Message","Loader","FormContainer","register","Register","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","profile","setProfile","message","setMessage","dispatch","navigate","error","registrationError","state","userRegister","loginError","loading","userInfo","userLogin","submitHandler","e","preventDefault","width","textAlign","target","value","display","justifyContent","marginTop"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Register/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Form, Button, Nav } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../../components/Message\";\nimport Loader from \"../../components/Loader\";\nimport FormContainer from \"../../components/FormContainer\";\nimport { register } from \"../../store/actions/userActions\";\n\nconst Register = () => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [profile, setProfile] = useState(\"CUSTOMER\");\n  const [message, setMessage] = useState(null);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const { error: registrationError } = useSelector(\n    (state) => state.userRegister\n  );\n  const {\n    error: loginError,\n    loading,\n    userInfo,\n  } = useSelector((state) => state.userLogin);\n\n  useEffect(() => {\n    if (userInfo) {\n      navigate(\"/\");\n    }\n  }, [navigate, userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords do not match\");\n    } else {\n      dispatch(register(username, email, password, profile));\n    }\n  };\n\n  return (\n    <FormContainer>\n      <Nav\n        variant=\"pills\"\n        defaultActiveKey=\"customer\"\n        className=\"justify-content-center mt-3\"\n      >\n        <Nav.Item>\n          <Nav.Link\n            onClick={() => {\n              setProfile(\"CUSTOMER\");\n            }}\n            eventKey=\"customer\"\n            style={{ width: \"7.6rem\", textAlign: \"center\" }}\n          >\n            Customer\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link\n            onClick={() => {\n              setProfile(\"STORE_OWNER\");\n            }}\n            eventKey=\"store-owner\"\n            style={{ width: \"7.6rem\", textAlign: \"center\" }}\n          >\n            Seller\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n\n      {message && <Message variant=\"danger\">{message}</Message>}\n      {(loginError || registrationError) && (\n        <Message variant=\"danger\">{loginError || registrationError}</Message>\n      )}\n      {loading && <Loader />}\n      <Form onSubmit={submitHandler}>\n        <Form.Group>\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            type=\"name\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Email Address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"1rem\",\n          }}\n        >\n          <Button type=\"submit\" variant=\"primary\" className=\"blue-button\">\n            Register\n          </Button>\n        </div>\n      </Form>\n    </FormContainer>\n  );\n};\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}