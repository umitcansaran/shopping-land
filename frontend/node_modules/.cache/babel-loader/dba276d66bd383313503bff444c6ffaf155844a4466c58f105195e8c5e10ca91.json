{"ast":null,"code":"var _jsxFileName = \"/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Sellers/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, Row, Col, Image, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { search } from \"../../store/actions/searchAction\";\nimport { listProfiles } from \"../../store/actions/userActions\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../../components/Loader\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { SELLER_PROFILES_RESET } from \"../../store/constants/userConstants\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Sellers() {\n  _s();\n  const [searchResult, setSearchResult] = useState(false);\n  const [resetFilter, setResetFilter] = useState(true);\n  const dispatch = useDispatch();\n  const {\n    profiles: filterSellerProfiles\n  } = useSelector(state => state.sellerProfiles);\n  const fetcher = url => axios.get(url).then(res => res.data);\n  const {\n    data: categories\n  } = useSWR(\"/api/products/categories/\", fetcher);\n\n  // Using React Query for faster reload after filtering by mounting cached components.\n  const {\n    data: sellerProfiles,\n    isLoading: loading\n  } = useQuery({\n    queryKey: [\"sellers\"],\n    queryFn: () => axios.get(\"/api/profiles/sellers/\").then(res => res.data)\n  });\n  let profiles;\n  !searchResult ? profiles = sellerProfiles : profiles = filterSellerProfiles;\n  const filterOptionHandler = event => {\n    dispatch({\n      type: SELLER_PROFILES_RESET\n    });\n    dispatch(search({\n      type: \"profiles\",\n      searchString: event.target.value\n    }));\n    setSearchResult(true);\n  };\n  const filterResetHandler = () => {\n    dispatch(listProfiles());\n    setSearchResult(false);\n    setResetFilter(!resetFilter);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        backgroundColor: \"#495b7a\",\n        height: \"3rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Form.Select, {\n        className: \"d-flex justify-content-center my-1 sellers-page-filter\",\n        onChange: filterOptionHandler,\n        \"aria-label\": \"Default select example\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Filter by Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), categories && categories.map(category => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            children: category.name\n          }, category.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 22\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [searchResult && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: () => filterResetHandler(),\n        className: \"m-2\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center\",\n        style: {\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            width: \"90%\",\n            textAlign: \"center\"\n          },\n          children: profiles && profiles.map(profile => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                md: 2,\n                className: \"seller-image-col\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/seller/${profile.id}`,\n                  children: /*#__PURE__*/_jsxDEV(Image, {\n                    className: \"p-2 seller-image\",\n                    src: profile.image,\n                    alt: profile.name,\n                    style: {\n                      maxWidth: \"60%\",\n                      maxHeight: \"4rem\",\n                      margin: \"3rem\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 25\n                }, this)\n              }, profile.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n_s(Sellers, \"JWl9UlgpMwAJqv1rI77fbcSi44c=\", false, function () {\n  return [useDispatch, useSelector, useSWR, useQuery];\n});\n_c = Sellers;\nexport default Sellers;\nvar _c;\n$RefreshReg$(_c, \"Sellers\");","map":{"version":3,"names":["React","useState","Button","Row","Col","Image","Form","useDispatch","useSelector","search","listProfiles","Link","Loader","useSWR","axios","SELLER_PROFILES_RESET","useQuery","Sellers","searchResult","setSearchResult","resetFilter","setResetFilter","dispatch","profiles","filterSellerProfiles","state","sellerProfiles","fetcher","url","get","then","res","data","categories","isLoading","loading","queryKey","queryFn","filterOptionHandler","event","type","searchString","target","value","filterResetHandler","backgroundColor","height","map","category","name","id","justifyContent","width","textAlign","profile","image","maxWidth","maxHeight","margin"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Sellers/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Row, Col, Image, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { search } from \"../../store/actions/searchAction\";\nimport { listProfiles } from \"../../store/actions/userActions\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../../components/Loader\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { SELLER_PROFILES_RESET } from \"../../store/constants/userConstants\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport \"./index.css\";\n\nfunction Sellers() {\n  const [searchResult, setSearchResult] = useState(false);\n  const [resetFilter, setResetFilter] = useState(true);\n\n  const dispatch = useDispatch();\n\n  const { profiles: filterSellerProfiles } = useSelector(\n    (state) => state.sellerProfiles\n  );\n\n  const fetcher = (url) => axios.get(url).then((res) => res.data);\n  const { data: categories } = useSWR(\"/api/products/categories/\", fetcher);\n\n  // Using React Query for faster reload after filtering by mounting cached components.\n  const { data: sellerProfiles, isLoading: loading } = useQuery({\n    queryKey: [\"sellers\"],\n    queryFn: () => axios.get(\"/api/profiles/sellers/\").then((res) => res.data),\n  });\n\n  let profiles;\n  !searchResult\n    ? (profiles = sellerProfiles)\n    : (profiles = filterSellerProfiles);\n\n  const filterOptionHandler = (event) => {\n    dispatch({ type: SELLER_PROFILES_RESET });\n    dispatch(search({ type: \"profiles\", searchString: event.target.value }));\n    setSearchResult(true);\n  };\n\n  const filterResetHandler = () => {\n    dispatch(listProfiles());\n    setSearchResult(false);\n    setResetFilter(!resetFilter);\n  };\n\n  return (\n    <>\n      <Row style={{ backgroundColor: \"#495b7a\", height: \"3rem\" }}>\n        <Form.Select\n          className=\"d-flex justify-content-center my-1 sellers-page-filter\"\n          onChange={filterOptionHandler}\n          aria-label=\"Default select example\"\n        >\n          <option>Filter by Category</option>\n          {categories &&\n            categories.map((category) => {\n              return <option key={category.id}>{category.name}</option>;\n            })}\n        </Form.Select>\n      </Row>\n      {loading ? (\n        <Loader />\n      ) : (\n        <>\n          {searchResult && (\n            <Button\n              variant=\"secondary\"\n              onClick={() => filterResetHandler()}\n              className=\"m-2\"\n            >\n              Back\n            </Button>\n          )}\n          <Row\n            className=\"align-items-center\"\n            style={{ justifyContent: \"center\" }}\n          >\n            <Row style={{ width: \"90%\", textAlign: \"center\" }}>\n              {profiles &&\n                profiles.map((profile) => {\n                  return (\n                    <>\n                      <Col\n                        xs={6}\n                        md={2}\n                        className=\"seller-image-col\"\n                        key={profile.id}\n                      >\n                        <Link to={`/seller/${profile.id}`}>\n                          <Image\n                            className=\"p-2 seller-image\"\n                            src={profile.image}\n                            alt={profile.name}\n                            style={{\n                              maxWidth: \"60%\",\n                              maxHeight: \"4rem\",\n                              margin: \"3rem\",\n                            }}\n                          />\n                        </Link>\n                      </Col>\n                    </>\n                  );\n                })}\n            </Row>\n          </Row>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Sellers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}