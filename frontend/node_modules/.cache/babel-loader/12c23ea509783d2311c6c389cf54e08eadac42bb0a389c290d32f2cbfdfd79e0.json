{"ast":null,"code":"import{baseUrl}from\"../constants\";import axios from\"axios\";import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD,CART_CLEAR_ITEMS}from\"../constants/cartConstants\";export const addToCart=(id,quantity,orderType,productStock,stockId,storeName,storeId)=>async(dispatch,getState)=>{const{data}=await axios.get(`${baseUrl}/api/products/${id}`);dispatch({type:CART_ADD_ITEM,payload:{id:data.id,brand:data.brand,name:data.name,image:data.image,price:data.price,stocks:data.stocks,quantity,storeName,productStock,stockId,storeId,seller:data.sellerDetails.name,sellerId:data.sellerDetails.id,orderType}});localStorage.setItem(\"cartItems\",JSON.stringify(getState().cart.cartItems));};export const removeFromCart=id=>(dispatch,getState)=>{dispatch({type:CART_REMOVE_ITEM,payload:id});const itemRemoved=getState().cart.cartItems.filter(item=>item.id!==id);itemRemoved.length===0?localStorage.removeItem(\"cartItems\"):localStorage.setItem(\"cartItems\",JSON.stringify(itemRemoved));};export const emptyCart=()=>dispatch=>{dispatch({type:CART_CLEAR_ITEMS});localStorage.removeItem(\"cartItems\");};export const saveShippingAddress=data=>dispatch=>{dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});localStorage.setItem(\"shippingAddress\",JSON.stringify(data));};export const savePaymentMethod=data=>dispatch=>{dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});localStorage.setItem(\"paymentMethod\",JSON.stringify(data));};","map":{"version":3,"names":["baseUrl","axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","addToCart","id","quantity","orderType","productStock","stockId","storeName","storeId","dispatch","getState","data","get","type","payload","brand","name","image","price","stocks","seller","sellerDetails","sellerId","localStorage","setItem","JSON","stringify","cart","cartItems","removeFromCart","itemRemoved","filter","item","length","removeItem","emptyCart","saveShippingAddress","savePaymentMethod"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/store/actions/cartActions.js"],"sourcesContent":["import { baseUrl } from \"../constants\";\nimport axios from \"axios\";\nimport {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD,\n  CART_CLEAR_ITEMS,\n} from \"../constants/cartConstants\";\n\nexport const addToCart =\n  (id, quantity, orderType, productStock, stockId, storeName, storeId) =>\n  async (dispatch, getState) => {\n    const { data } = await axios.get(`${baseUrl}/api/products/${id}`);\n\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        id: data.id,\n        brand: data.brand,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        stocks: data.stocks,\n        quantity,\n        storeName,\n        productStock,\n        stockId,\n        storeId,\n        seller: data.sellerDetails.name,\n        sellerId: data.sellerDetails.id,\n        orderType,\n      },\n    });\n    localStorage.setItem(\n      \"cartItems\",\n      JSON.stringify(getState().cart.cartItems)\n    );\n  };\n\nexport const removeFromCart = (id) => (dispatch, getState) => {\n  dispatch({\n    type: CART_REMOVE_ITEM,\n    payload: id,\n  });\n\n  const itemRemoved = getState().cart.cartItems.filter(\n    (item) => item.id !== id\n  );\n\n  itemRemoved.length === 0\n    ? localStorage.removeItem(\"cartItems\")\n    : localStorage.setItem(\"cartItems\", JSON.stringify(itemRemoved));\n};\n\nexport const emptyCart = () => (dispatch) => {\n  dispatch({\n    type: CART_CLEAR_ITEMS,\n  });\n\n  localStorage.removeItem(\"cartItems\");\n};\n\nexport const saveShippingAddress = (data) => (dispatch) => {\n  dispatch({\n    type: CART_SAVE_SHIPPING_ADDRESS,\n    payload: data,\n  });\n\n  localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\n};\n\nexport const savePaymentMethod = (data) => (dispatch) => {\n  dispatch({\n    type: CART_SAVE_PAYMENT_METHOD,\n    payload: data,\n  });\n\n  localStorage.setItem(\"paymentMethod\", JSON.stringify(data));\n};\n"],"mappings":"AAAA,OAASA,OAAO,KAAQ,cAAc,CACtC,MAAOC,MAAK,KAAM,OAAO,CACzB,OACEC,aAAa,CACbC,gBAAgB,CAChBC,0BAA0B,CAC1BC,wBAAwB,CACxBC,gBAAgB,KACX,4BAA4B,CAEnC,MAAO,MAAMC,UAAS,CACpB,CAACC,EAAE,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,YAAY,CAAEC,OAAO,CAAEC,SAAS,CAAEC,OAAO,GACnE,MAAOC,QAAQ,CAAEC,QAAQ,GAAK,CAC5B,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAMhB,MAAK,CAACiB,GAAG,CAAE,GAAElB,OAAQ,iBAAgBQ,EAAG,EAAC,CAAC,CAEjEO,QAAQ,CAAC,CACPI,IAAI,CAAEjB,aAAa,CACnBkB,OAAO,CAAE,CACPZ,EAAE,CAAES,IAAI,CAACT,EAAE,CACXa,KAAK,CAAEJ,IAAI,CAACI,KAAK,CACjBC,IAAI,CAAEL,IAAI,CAACK,IAAI,CACfC,KAAK,CAAEN,IAAI,CAACM,KAAK,CACjBC,KAAK,CAAEP,IAAI,CAACO,KAAK,CACjBC,MAAM,CAAER,IAAI,CAACQ,MAAM,CACnBhB,QAAQ,CACRI,SAAS,CACTF,YAAY,CACZC,OAAO,CACPE,OAAO,CACPY,MAAM,CAAET,IAAI,CAACU,aAAa,CAACL,IAAI,CAC/BM,QAAQ,CAAEX,IAAI,CAACU,aAAa,CAACnB,EAAE,CAC/BE,SACF,CACF,CAAC,CAAC,CACFmB,YAAY,CAACC,OAAO,CAClB,WAAW,CACXC,IAAI,CAACC,SAAS,CAAChB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAAC,CAC1C,CACH,CAAC,CAEH,MAAO,MAAMC,eAAc,CAAI3B,EAAE,EAAK,CAACO,QAAQ,CAAEC,QAAQ,GAAK,CAC5DD,QAAQ,CAAC,CACPI,IAAI,CAAEhB,gBAAgB,CACtBiB,OAAO,CAAEZ,EACX,CAAC,CAAC,CAEF,KAAM4B,YAAW,CAAGpB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAACG,MAAM,CACjDC,IAAI,EAAKA,IAAI,CAAC9B,EAAE,GAAKA,EAAE,CACzB,CAED4B,WAAW,CAACG,MAAM,GAAK,CAAC,CACpBV,YAAY,CAACW,UAAU,CAAC,WAAW,CAAC,CACpCX,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEC,IAAI,CAACC,SAAS,CAACI,WAAW,CAAC,CAAC,CACpE,CAAC,CAED,MAAO,MAAMK,UAAS,CAAG,IAAO1B,QAAQ,EAAK,CAC3CA,QAAQ,CAAC,CACPI,IAAI,CAAEb,gBACR,CAAC,CAAC,CAEFuB,YAAY,CAACW,UAAU,CAAC,WAAW,CAAC,CACtC,CAAC,CAED,MAAO,MAAME,oBAAmB,CAAIzB,IAAI,EAAMF,QAAQ,EAAK,CACzDA,QAAQ,CAAC,CACPI,IAAI,CAAEf,0BAA0B,CAChCgB,OAAO,CAAEH,IACX,CAAC,CAAC,CAEFY,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAEC,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAC,CAC/D,CAAC,CAED,MAAO,MAAM0B,kBAAiB,CAAI1B,IAAI,EAAMF,QAAQ,EAAK,CACvDA,QAAQ,CAAC,CACPI,IAAI,CAAEd,wBAAwB,CAC9Be,OAAO,CAAEH,IACX,CAAC,CAAC,CAEFY,YAAY,CAACC,OAAO,CAAC,eAAe,CAAEC,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAC,CAC7D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}