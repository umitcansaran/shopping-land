{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{Form,Button,Row,Col,Nav}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate,useLocation}from\"react-router-dom\";import Loader from\"../../components/Loader\";import Message from\"../../components/Message\";import FormContainer from\"../../components/FormContainer\";import\"./index.css\";import{login}from\"../../store/actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState(\"InterDiscount\");const[password,setPassword]=useState(\"django123\");const[profile,setProfile]=useState(\"CUSTOMER\");useEffect(()=>{if(profile===\"CUSTOMER\"){setUsername(\"umit\");}if(profile===\"STORE_OWNER\"){setUsername(\"InterDiscount\");}},[profile]);const dispatch=useDispatch();const navigate=useNavigate();const location=useLocation();const redirect=location.search?location.search.split(\"=\")[1]:\"/\";const userLogin=useSelector(state=>state.userLogin);const{error,loading,userInfo}=userLogin;useEffect(()=>{if(userInfo){navigate(redirect);}},[userLogin,navigate,userInfo,redirect]);const submitHandler=e=>{e.preventDefault();dispatch(login(username,password));};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsxs(Nav,{variant:\"pills\",defaultActiveKey:\"customer\",className:\"justify-content-center mt-3\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{onClick:()=>{setProfile(\"CUSTOMER\");},eventKey:\"customer\",style:{width:\"7.6rem\",textAlign:\"center\"},children:\"Customer\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{onClick:()=>{setProfile(\"STORE_OWNER\");},eventKey:\"store-owner\",style:{width:\"7.6rem\",textAlign:\"center\"},children:\"Seller\"})})]}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Username\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(Row,{className:\"login-btn\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Sign In\"})})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"New Customer? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","Form","Button","Row","Col","Nav","useDispatch","useSelector","useNavigate","useLocation","Loader","Message","FormContainer","login","Login","username","setUsername","password","setPassword","profile","setProfile","dispatch","navigate","location","redirect","search","split","userLogin","state","error","loading","userInfo","submitHandler","e","preventDefault","width","textAlign","target","value"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Login/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Button, Row, Col, Nav } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport Loader from \"../../components/Loader\";\nimport Message from \"../../components/Message\";\nimport FormContainer from \"../../components/FormContainer\";\nimport \"./index.css\";\nimport { login } from \"../../store/actions/userActions\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"InterDiscount\");\n  const [password, setPassword] = useState(\"django123\");\n  const [profile, setProfile] = useState(\"CUSTOMER\");\n\n  useEffect(() => {\n    if (profile === \"CUSTOMER\") {\n      setUsername(\"umit\");\n    }\n    if (profile === \"STORE_OWNER\") {\n      setUsername(\"InterDiscount\");\n    }\n  }, [profile]);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { error, loading, userInfo } = userLogin;\n\n  useEffect(() => {\n    if (userInfo) {\n      navigate(redirect);\n    }\n  }, [userLogin, navigate, userInfo, redirect]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(login(username, password));\n  };\n\n  return (\n    <FormContainer>\n      <Nav\n        variant=\"pills\"\n        defaultActiveKey=\"customer\"\n        className=\"justify-content-center mt-3\"\n      >\n        <Nav.Item>\n          <Nav.Link\n            onClick={() => {\n              setProfile(\"CUSTOMER\");\n            }}\n            eventKey=\"customer\"\n            style={{ width: \"7.6rem\", textAlign: \"center\" }}\n          >\n            Customer\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link\n            onClick={() => {\n              setProfile(\"STORE_OWNER\");\n            }}\n            eventKey=\"store-owner\"\n            style={{ width: \"7.6rem\", textAlign: \"center\" }}\n          >\n            Seller\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {loading && <Loader />}\n      <Form onSubmit={submitHandler}>\n        <Form.Group controlId=\"email\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n        <Row className=\"login-btn\">\n          <Button type=\"submit\" variant=\"primary\">\n            Sign In\n          </Button>\n        </Row>\n      </Form>\n\n      <Row className=\"py-3\">\n        <Col>\n          New Customer? <Link to=\"/register\">Register</Link>\n        </Col>\n      </Row>\n    </FormContainer>\n  );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}