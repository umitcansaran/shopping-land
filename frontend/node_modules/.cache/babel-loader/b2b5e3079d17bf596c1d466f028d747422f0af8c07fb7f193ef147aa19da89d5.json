{"ast":null,"code":"import{baseUrl}from\"../constants\";import axios from\"axios\";import{STORE_LIST_REQUEST,STORE_LIST_SUCCESS,STORE_LIST_FAIL,STORE_MY_LIST_REQUEST,STORE_MY_LIST_SUCCESS,STORE_MY_LIST_FAIL,STORE_CREATE_REQUEST,STORE_CREATE_SUCCESS,STORE_CREATE_FAIL,STORE_DELETE_REQUEST,STORE_DELETE_SUCCESS,STORE_DELETE_FAIL,STORE_DETAILS_REQUEST,STORE_DETAILS_SUCCESS,STORE_DETAILS_FAIL,STORE_STOCKS_REQUEST,STORE_STOCKS_SUCCESS,STORE_STOCKS_FAIL,STORES_BY_USER_REQUEST,STORES_BY_USER_SUCCESS,STORES_BY_USER_FAIL}from\"../constants/storeConstants\";export const listStores=()=>async dispatch=>{try{dispatch({type:STORE_LIST_REQUEST});const{data}=await axios.get(`${baseUrl}/api/stores/`);dispatch({type:STORE_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:STORE_LIST_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const listMyStores=()=>async(dispatch,getState)=>{try{dispatch({type:STORE_MY_LIST_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{\"Content-type\":\"application/json\",Authorization:`Bearer ${userInfo.access}`}};const{data}=await axios.get(`${baseUrl}/api/stores/mystores/`,config);dispatch({type:STORE_MY_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:STORE_MY_LIST_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const createStore=formData=>async(dispatch,getState)=>{try{dispatch({type:STORE_CREATE_REQUEST});// const config = {\n//     headers: {\n//         'Content-type': 'application/json',\n//         Authorization: `Bearer ${userInfo.token}`\n//     }\n// }\nconst{data}=await axios.post(`${baseUrl}/api/stores/new/`,formData);dispatch({type:STORE_CREATE_SUCCESS,payload:data});}catch(error){dispatch({type:STORE_CREATE_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const deleteStore=id=>async(dispatch,getState)=>{try{dispatch({type:STORE_DELETE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:`Bearer ${userInfo.access}`}};await axios.delete(`${baseUrl}/api/stores/${id}/`,config);dispatch({type:STORE_DELETE_SUCCESS});}catch(error){dispatch({type:STORE_DELETE_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const listStoreDetails=id=>async dispatch=>{try{dispatch({type:STORE_DETAILS_REQUEST});const{data}=await axios.get(`${baseUrl}/api/stores/${id}`);dispatch({type:STORE_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:STORE_DETAILS_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const listStoreStocks=id=>async dispatch=>{try{dispatch({type:STORE_STOCKS_REQUEST});const{data}=await axios.get(`${baseUrl}/api/stocks/store/${id}`);dispatch({type:STORE_STOCKS_SUCCESS,payload:data});}catch(error){dispatch({type:STORE_STOCKS_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};export const listStoresByUser=id=>async dispatch=>{try{dispatch({type:STORES_BY_USER_REQUEST});const{data}=await axios.get(`${baseUrl}/api/stores/user/${id}`);dispatch({type:STORES_BY_USER_SUCCESS,payload:data});}catch(error){dispatch({type:STORES_BY_USER_FAIL,payload:error.response&&error.response.data.detail?error.response.data.detail:error.message});}};","map":{"version":3,"names":["baseUrl","axios","STORE_LIST_REQUEST","STORE_LIST_SUCCESS","STORE_LIST_FAIL","STORE_MY_LIST_REQUEST","STORE_MY_LIST_SUCCESS","STORE_MY_LIST_FAIL","STORE_CREATE_REQUEST","STORE_CREATE_SUCCESS","STORE_CREATE_FAIL","STORE_DELETE_REQUEST","STORE_DELETE_SUCCESS","STORE_DELETE_FAIL","STORE_DETAILS_REQUEST","STORE_DETAILS_SUCCESS","STORE_DETAILS_FAIL","STORE_STOCKS_REQUEST","STORE_STOCKS_SUCCESS","STORE_STOCKS_FAIL","STORES_BY_USER_REQUEST","STORES_BY_USER_SUCCESS","STORES_BY_USER_FAIL","listStores","dispatch","type","data","get","payload","error","response","detail","message","listMyStores","getState","userLogin","userInfo","config","headers","Authorization","access","createStore","formData","post","deleteStore","id","delete","listStoreDetails","listStoreStocks","listStoresByUser"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/store/actions/storeActions.js"],"sourcesContent":["import { baseUrl } from \"../constants\";\nimport axios from \"axios\";\nimport {\n  STORE_LIST_REQUEST,\n  STORE_LIST_SUCCESS,\n  STORE_LIST_FAIL,\n  STORE_MY_LIST_REQUEST,\n  STORE_MY_LIST_SUCCESS,\n  STORE_MY_LIST_FAIL,\n  STORE_CREATE_REQUEST,\n  STORE_CREATE_SUCCESS,\n  STORE_CREATE_FAIL,\n  STORE_DELETE_REQUEST,\n  STORE_DELETE_SUCCESS,\n  STORE_DELETE_FAIL,\n  STORE_DETAILS_REQUEST,\n  STORE_DETAILS_SUCCESS,\n  STORE_DETAILS_FAIL,\n  STORE_STOCKS_REQUEST,\n  STORE_STOCKS_SUCCESS,\n  STORE_STOCKS_FAIL,\n  STORES_BY_USER_REQUEST,\n  STORES_BY_USER_SUCCESS,\n  STORES_BY_USER_FAIL,\n} from \"../constants/storeConstants\";\n\nexport const listStores = () => async (dispatch) => {\n  try {\n    dispatch({ type: STORE_LIST_REQUEST });\n\n    const { data } = await axios.get(`${baseUrl}/api/stores/`);\n\n    dispatch({\n      type: STORE_LIST_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_LIST_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const listMyStores = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: STORE_MY_LIST_REQUEST });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.access}`,\n      },\n    };\n\n    const { data } = await axios.get(`${baseUrl}/api/stores/mystores/`, config);\n\n    dispatch({\n      type: STORE_MY_LIST_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_MY_LIST_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const createStore = (formData) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STORE_CREATE_REQUEST,\n    });\n\n    // const config = {\n    //     headers: {\n    //         'Content-type': 'application/json',\n    //         Authorization: `Bearer ${userInfo.token}`\n    //     }\n    // }\n\n    const { data } = await axios.post(`${baseUrl}/api/stores/new/`, formData);\n\n    dispatch({\n      type: STORE_CREATE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_CREATE_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const deleteStore = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STORE_DELETE_REQUEST,\n    });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.access}`,\n      },\n    };\n\n    await axios.delete(`${baseUrl}/api/stores/${id}/`, config);\n\n    dispatch({\n      type: STORE_DELETE_SUCCESS,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_DELETE_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const listStoreDetails = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: STORE_DETAILS_REQUEST });\n\n    const { data } = await axios.get(`${baseUrl}/api/stores/${id}`);\n\n    dispatch({\n      type: STORE_DETAILS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_DETAILS_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const listStoreStocks = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: STORE_STOCKS_REQUEST });\n\n    const { data } = await axios.get(`${baseUrl}/api/stocks/store/${id}`);\n\n    dispatch({\n      type: STORE_STOCKS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORE_STOCKS_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const listStoresByUser = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: STORES_BY_USER_REQUEST });\n\n    const { data } = await axios.get(`${baseUrl}/api/stores/user/${id}`);\n\n    dispatch({\n      type: STORES_BY_USER_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: STORES_BY_USER_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n"],"mappings":"AAAA,OAASA,OAAO,KAAQ,cAAc,CACtC,MAAOC,MAAK,KAAM,OAAO,CACzB,OACEC,kBAAkB,CAClBC,kBAAkB,CAClBC,eAAe,CACfC,qBAAqB,CACrBC,qBAAqB,CACrBC,kBAAkB,CAClBC,oBAAoB,CACpBC,oBAAoB,CACpBC,iBAAiB,CACjBC,oBAAoB,CACpBC,oBAAoB,CACpBC,iBAAiB,CACjBC,qBAAqB,CACrBC,qBAAqB,CACrBC,kBAAkB,CAClBC,oBAAoB,CACpBC,oBAAoB,CACpBC,iBAAiB,CACjBC,sBAAsB,CACtBC,sBAAsB,CACtBC,mBAAmB,KACd,6BAA6B,CAEpC,MAAO,MAAMC,WAAU,CAAG,IAAM,KAAOC,SAAQ,EAAK,CAClD,GAAI,CACFA,QAAQ,CAAC,CAAEC,IAAI,CAAEvB,kBAAmB,CAAC,CAAC,CAEtC,KAAM,CAAEwB,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0B,GAAG,CAAE,GAAE3B,OAAQ,cAAa,CAAC,CAE1DwB,QAAQ,CAAC,CACPC,IAAI,CAAEtB,kBAAkB,CACxByB,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAErB,eAAe,CACrBwB,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMC,aAAY,CAAG,IAAM,MAAOT,QAAQ,CAAEU,QAAQ,GAAK,CAC9D,GAAI,CACFV,QAAQ,CAAC,CAAEC,IAAI,CAAEpB,qBAAsB,CAAC,CAAC,CAEzC,KAAM,CACJ8B,SAAS,CAAE,CAAEC,QAAS,CACxB,CAAC,CAAGF,QAAQ,EAAE,CAEd,KAAMG,OAAM,CAAG,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAG,UAASH,QAAQ,CAACI,MAAO,EAC3C,CACF,CAAC,CAED,KAAM,CAAEd,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0B,GAAG,CAAE,GAAE3B,OAAQ,uBAAsB,CAAEqC,MAAM,CAAC,CAE3Eb,QAAQ,CAAC,CACPC,IAAI,CAAEnB,qBAAqB,CAC3BsB,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAElB,kBAAkB,CACxBqB,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMS,YAAW,CAAIC,QAAQ,EAAK,MAAOlB,QAAQ,CAAEU,QAAQ,GAAK,CACrE,GAAI,CACFV,QAAQ,CAAC,CACPC,IAAI,CAAEjB,oBACR,CAAC,CAAC,CAEF;AACA;AACA;AACA;AACA;AACA;AAEA,KAAM,CAAEkB,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0C,IAAI,CAAE,GAAE3C,OAAQ,kBAAiB,CAAE0C,QAAQ,CAAC,CAEzElB,QAAQ,CAAC,CACPC,IAAI,CAAEhB,oBAAoB,CAC1BmB,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAEf,iBAAiB,CACvBkB,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMY,YAAW,CAAIC,EAAE,EAAK,MAAOrB,QAAQ,CAAEU,QAAQ,GAAK,CAC/D,GAAI,CACFV,QAAQ,CAAC,CACPC,IAAI,CAAEd,oBACR,CAAC,CAAC,CAEF,KAAM,CACJwB,SAAS,CAAE,CAAEC,QAAS,CACxB,CAAC,CAAGF,QAAQ,EAAE,CAEd,KAAMG,OAAM,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,CAAG,UAASH,QAAQ,CAACI,MAAO,EAC3C,CACF,CAAC,CAED,KAAMvC,MAAK,CAAC6C,MAAM,CAAE,GAAE9C,OAAQ,eAAc6C,EAAG,GAAE,CAAER,MAAM,CAAC,CAE1Db,QAAQ,CAAC,CACPC,IAAI,CAAEb,oBACR,CAAC,CAAC,CACJ,CAAE,MAAOiB,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAEZ,iBAAiB,CACvBe,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMe,iBAAgB,CAAIF,EAAE,EAAK,KAAOrB,SAAQ,EAAK,CAC1D,GAAI,CACFA,QAAQ,CAAC,CAAEC,IAAI,CAAEX,qBAAsB,CAAC,CAAC,CAEzC,KAAM,CAAEY,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0B,GAAG,CAAE,GAAE3B,OAAQ,eAAc6C,EAAG,EAAC,CAAC,CAE/DrB,QAAQ,CAAC,CACPC,IAAI,CAAEV,qBAAqB,CAC3Ba,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAET,kBAAkB,CACxBY,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMgB,gBAAe,CAAIH,EAAE,EAAK,KAAOrB,SAAQ,EAAK,CACzD,GAAI,CACFA,QAAQ,CAAC,CAAEC,IAAI,CAAER,oBAAqB,CAAC,CAAC,CAExC,KAAM,CAAES,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0B,GAAG,CAAE,GAAE3B,OAAQ,qBAAoB6C,EAAG,EAAC,CAAC,CAErErB,QAAQ,CAAC,CACPC,IAAI,CAAEP,oBAAoB,CAC1BU,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAEN,iBAAiB,CACvBS,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC,CAED,MAAO,MAAMiB,iBAAgB,CAAIJ,EAAE,EAAK,KAAOrB,SAAQ,EAAK,CAC1D,GAAI,CACFA,QAAQ,CAAC,CAAEC,IAAI,CAAEL,sBAAuB,CAAC,CAAC,CAE1C,KAAM,CAAEM,IAAK,CAAC,CAAG,KAAMzB,MAAK,CAAC0B,GAAG,CAAE,GAAE3B,OAAQ,oBAAmB6C,EAAG,EAAC,CAAC,CAEpErB,QAAQ,CAAC,CACPC,IAAI,CAAEJ,sBAAsB,CAC5BO,OAAO,CAAEF,IACX,CAAC,CAAC,CACJ,CAAE,MAAOG,KAAK,CAAE,CACdL,QAAQ,CAAC,CACPC,IAAI,CAAEH,mBAAmB,CACzBM,OAAO,CACLC,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CACxCF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,CAC1BF,KAAK,CAACG,OACd,CAAC,CAAC,CACJ,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}