{"ast":null,"code":"import React,{useState}from\"react\";import{Button,Row,Col,Image,Form}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{search}from\"../../store/actions/searchAction\";import{listProfiles}from\"../../store/actions/userActions\";import{Link}from\"react-router-dom\";import Loader from\"../../components/Loader\";import useSWR from\"swr\";import axios from\"axios\";import{SELLER_PROFILES_RESET}from\"../../store/constants/userConstants\";import{useQuery}from\"@tanstack/react-query\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Sellers(){const[searchResult,setSearchResult]=useState(false);const[resetFilter,setResetFilter]=useState(true);const dispatch=useDispatch();const{profiles:filterSellerProfiles}=useSelector(state=>state.sellerProfiles);const fetcher=url=>axios.get(url).then(res=>res.data);const{data:categories}=useSWR(\"/api/products/categories/\",fetcher);// Using React Query for faster reload after filtering by mounting cached components.\nconst{data:sellerProfiles,isLoading:loading}=useQuery({queryKey:[\"sellers\"],queryFn:()=>axios.get(\"/api/profiles/sellers/\").then(res=>res.data)});let profiles;!searchResult?profiles=sellerProfiles:profiles=filterSellerProfiles;const filterOptionHandler=event=>{dispatch({type:SELLER_PROFILES_RESET});dispatch(search({type:\"profiles\",searchString:event.target.value}));setSearchResult(true);};const filterResetHandler=()=>{dispatch(listProfiles());setSearchResult(false);setResetFilter(!resetFilter);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{style:{backgroundColor:\"#495b7a\",height:\"3rem\"},children:/*#__PURE__*/_jsxs(Form.Select,{className:\"d-flex justify-content-center my-1 sellers-page-filter\",onChange:filterOptionHandler,\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Filter by Category\"}),categories&&categories.map((category,index)=>{return/*#__PURE__*/_jsx(\"option\",{children:category.name},index);})]})}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[searchResult&&/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>filterResetHandler(),className:\"m-2\",children:\"Back\"}),/*#__PURE__*/_jsx(Row,{className:\"align-items-center\",style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Row,{style:{width:\"90%\",textAlign:\"center\"},children:profiles&&profiles.map((profile,index)=>{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Col,{xs:6,md:2,className:\"seller-image-col\",children:/*#__PURE__*/_jsx(Link,{to:`/seller/${profile.id}`,children:/*#__PURE__*/_jsx(Image,{className:\"p-2 seller-image\",src:profile.image,alt:profile.name,style:{maxWidth:\"60%\",maxHeight:\"4rem\",margin:\"3rem\"}},index)})})});})})})]})]});}export default Sellers;","map":{"version":3,"names":["React","useState","Button","Row","Col","Image","Form","useDispatch","useSelector","search","listProfiles","Link","Loader","useSWR","axios","SELLER_PROFILES_RESET","useQuery","Sellers","searchResult","setSearchResult","resetFilter","setResetFilter","dispatch","profiles","filterSellerProfiles","state","sellerProfiles","fetcher","url","get","then","res","data","categories","isLoading","loading","queryKey","queryFn","filterOptionHandler","event","type","searchString","target","value","filterResetHandler","backgroundColor","height","map","category","index","name","justifyContent","width","textAlign","profile","id","image","maxWidth","maxHeight","margin"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Sellers/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Row, Col, Image, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { search } from \"../../store/actions/searchAction\";\nimport { listProfiles } from \"../../store/actions/userActions\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../../components/Loader\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { SELLER_PROFILES_RESET } from \"../../store/constants/userConstants\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport \"./index.css\";\n\nfunction Sellers() {\n  const [searchResult, setSearchResult] = useState(false);\n  const [resetFilter, setResetFilter] = useState(true);\n\n  const dispatch = useDispatch();\n\n  const { profiles: filterSellerProfiles } = useSelector(\n    (state) => state.sellerProfiles\n  );\n\n  const fetcher = (url) => axios.get(url).then((res) => res.data);\n  const { data: categories } = useSWR(\"/api/products/categories/\", fetcher);\n\n  // Using React Query for faster reload after filtering by mounting cached components.\n  const { data: sellerProfiles, isLoading: loading } = useQuery({\n    queryKey: [\"sellers\"],\n    queryFn: () => axios.get(\"/api/profiles/sellers/\").then((res) => res.data),\n  });\n\n  let profiles;\n  !searchResult\n    ? (profiles = sellerProfiles)\n    : (profiles = filterSellerProfiles);\n\n  const filterOptionHandler = (event) => {\n    dispatch({ type: SELLER_PROFILES_RESET });\n    dispatch(search({ type: \"profiles\", searchString: event.target.value }));\n    setSearchResult(true);\n  };\n\n  const filterResetHandler = () => {\n    dispatch(listProfiles());\n    setSearchResult(false);\n    setResetFilter(!resetFilter);\n  };\n\n  return (\n    <>\n      <Row style={{ backgroundColor: \"#495b7a\", height: \"3rem\" }}>\n        <Form.Select\n          className=\"d-flex justify-content-center my-1 sellers-page-filter\"\n          onChange={filterOptionHandler}\n          aria-label=\"Default select example\"\n        >\n          <option>Filter by Category</option>\n          {categories &&\n            categories.map((category, index) => {\n              return <option key={index}>{category.name}</option>;\n            })}\n        </Form.Select>\n      </Row>\n      {loading ? (\n        <Loader />\n      ) : (\n        <>\n          {searchResult && (\n            <Button\n              variant=\"secondary\"\n              onClick={() => filterResetHandler()}\n              className=\"m-2\"\n            >\n              Back\n            </Button>\n          )}\n          <Row\n            className=\"align-items-center\"\n            style={{ justifyContent: \"center\" }}\n          >\n            <Row style={{ width: \"90%\", textAlign: \"center\" }}>\n              {profiles &&\n                profiles.map((profile, index) => {\n                  return (\n                    <>\n                      <Col xs={6} md={2} className=\"seller-image-col\">\n                        <Link to={`/seller/${profile.id}`}>\n                          <Image\n                            className=\"p-2 seller-image\"\n                            src={profile.image}\n                            alt={profile.name}\n                            key={index}\n                            style={{\n                              maxWidth: \"60%\",\n                              maxHeight: \"4rem\",\n                              margin: \"3rem\",\n                            }}\n                          />\n                        </Link>\n                      </Col>\n                    </>\n                  );\n                })}\n            </Row>\n          </Row>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Sellers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}