{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Row,Col,ListGroup,Form,Button,Image}from\"react-bootstrap\";import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{listProductsByUser}from\"../../store/actions/productActions\";import{search}from\"../../store/actions/searchAction\";import{listStoresByUser}from\"../../store/actions/storeActions\";import{getProfileDetails}from\"../../store/actions/userActions\";import{PROFILE_DETAILS_RESET}from\"../../store/constants/userConstants\";import ProductCard from\"../../components/ProductCard\";import\"./index.css\";import Loader from\"../../components/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Seller(){const[value,setValue]=useState(\"\");const[store,setStore]=useState(\"\");const dispatch=useDispatch();const params=useParams();const{stores,loading:storesLoading}=useSelector(state=>state.storesByUser);const{products}=useSelector(state=>state.productsByUser);const{profile,loading:profileLoading}=useSelector(state=>state.profileDetails);useEffect(()=>{dispatch({type:PROFILE_DETAILS_RESET});dispatch(getProfileDetails(params.id));dispatch(listStoresByUser(params.id));dispatch(listProductsByUser(params.id));},[dispatch,params.id]);useEffect(()=>{if(store!==\"\"&&value===\"\"){dispatch(search({type:\"products_in_store\",store:store.id,searchString:\"\"}));}if(store!==\"\"&&value!==\"\"){dispatch(search({type:\"products_in_store\",store:store.id,searchString:value}));}},[dispatch,store,value]);const storeSearchHandler=e=>{setValue(e.target.value);if(store===\"\"){dispatch(search({type:\"products_by_seller\",seller_id:profile.id,searchString:e.target.value}));}};const placeholder=`Search by brand or product name`+(store?` in ${store.name}`:\"\");return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{style:{backgroundColor:\"#495b7a\",height:\"3rem\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Col,{sm:12,lg:5,children:/*#__PURE__*/_jsx(Form,{className:\"d-flex justify-content-center my-2\",style:{height:\"2rem\"},children:/*#__PURE__*/_jsx(Form.Control,{placeholder:placeholder,\"aria-label\":\"Search\",value:value,onChange:e=>storeSearchHandler(e)})})})}),storesLoading||profileLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mt-3 align-items-center pb-2\",style:{borderBottom:\"solid 1px lightgrey\"},children:[/*#__PURE__*/_jsx(Col,{className:\"text-center justify-content-center\",md:2,children:/*#__PURE__*/_jsx(Image,{src:profile.image,style:{width:\"auto\",maxWidth:\"15rem\",maxHeight:\"5rem\"}})}),/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",style:{fontSize:\"0.8rem\"},children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Industry: \"}),profile.industry]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Headquarter: \"}),profile.headquarter]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description: \"}),profile.description]})]})})]}),/*#__PURE__*/_jsxs(Row,{className:\"mt-3 px-2\",children:[/*#__PURE__*/_jsxs(Col,{md:2,className:\"seller-sidebar\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",fontSize:\"0.9rem\"},children:store===\"\"?\"Filter products by store\":`You can search in store`})}),stores&&stores.map(sellerStore=>{return/*#__PURE__*/_jsx(Row,{style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{onClick:()=>setStore(sellerStore),className:\"seller-store-button\",children:sellerStore.name})});}),store!==\"\"&&/*#__PURE__*/_jsx(Row,{style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>(setStore(\"\"),dispatch(listProductsByUser(params.id))),className:\"m-2\",style:{width:\"5rem\",backgroundColor:\"white\"},children:\"Back\"})})]}),/*#__PURE__*/_jsx(Col,{className:\"mx-1\",children:/*#__PURE__*/_jsxs(Row,{style:{textAlign:\"center\"},className:\"product-card-container\",children:[products&&products.length===0&&(value!==\"\"?store!==\"\"?/*#__PURE__*/_jsxs(\"h5\",{children:[\"No search results in \",store.name,\" store!\"]}):/*#__PURE__*/_jsx(\"h5\",{children:\"No search results in stocks!\"}):/*#__PURE__*/_jsx(\"h5\",{children:\"Currently no product to show!\"})),/*#__PURE__*/_jsx(Row,{className:\"product-card-row\",children:products&&products.map((product,index)=>{return/*#__PURE__*/_jsx(ProductCard,{product:product},index);})})]})})]})]})]});}export default Seller;","map":{"version":3,"names":["React","useEffect","useState","Row","Col","ListGroup","Form","Button","Image","useParams","useDispatch","useSelector","listProductsByUser","search","listStoresByUser","getProfileDetails","PROFILE_DETAILS_RESET","ProductCard","Loader","Seller","value","setValue","store","setStore","dispatch","params","stores","loading","storesLoading","state","storesByUser","products","productsByUser","profile","profileLoading","profileDetails","type","id","searchString","storeSearchHandler","e","target","seller_id","placeholder","name","backgroundColor","height","justifyContent","borderBottom","image","width","maxWidth","maxHeight","fontSize","industry","headquarter","description","textAlign","map","sellerStore","length","product","index"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/Seller/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Row, Col, ListGroup, Form, Button, Image } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProductsByUser } from \"../../store/actions/productActions\";\nimport { search } from \"../../store/actions/searchAction\";\nimport { listStoresByUser } from \"../../store/actions/storeActions\";\nimport { getProfileDetails } from \"../../store/actions/userActions\";\nimport { PROFILE_DETAILS_RESET } from \"../../store/constants/userConstants\";\nimport ProductCard from \"../../components/ProductCard\";\nimport \"./index.css\";\nimport Loader from \"../../components/Loader\";\n\nfunction Seller() {\n  const [value, setValue] = useState(\"\");\n  const [store, setStore] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const params = useParams();\n\n  const { stores, loading: storesLoading } = useSelector(\n    (state) => state.storesByUser\n  );\n  const { products } = useSelector((state) => state.productsByUser);\n  const { profile, loading: profileLoading } = useSelector(\n    (state) => state.profileDetails\n  );\n\n  useEffect(() => {\n    dispatch({ type: PROFILE_DETAILS_RESET });\n    dispatch(getProfileDetails(params.id));\n    dispatch(listStoresByUser(params.id));\n    dispatch(listProductsByUser(params.id));\n  }, [dispatch, params.id]);\n\n  useEffect(() => {\n    if (store !== \"\" && value === \"\") {\n      dispatch(\n        search({\n          type: \"products_in_store\",\n          store: store.id,\n          searchString: \"\",\n        })\n      );\n    }\n    if (store !== \"\" && value !== \"\") {\n      dispatch(\n        search({\n          type: \"products_in_store\",\n          store: store.id,\n          searchString: value,\n        })\n      );\n    }\n  }, [dispatch, store, value]);\n\n  const storeSearchHandler = (e) => {\n    setValue(e.target.value);\n    if (store === \"\") {\n      dispatch(\n        search({\n          type: \"products_by_seller\",\n          seller_id: profile.id,\n          searchString: e.target.value,\n        })\n      );\n    }\n  };\n\n  const placeholder =\n    `Search by brand or product name` + (store ? ` in ${store.name}` : \"\");\n\n  return (\n    <>\n      <Row\n        style={{\n          backgroundColor: \"#495b7a\",\n          height: \"3rem\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Col sm={12} lg={5}>\n          <Form\n            className=\"d-flex justify-content-center my-2\"\n            style={{ height: \"2rem\" }}\n          >\n            <Form.Control\n              placeholder={placeholder}\n              aria-label=\"Search\"\n              value={value}\n              onChange={(e) => storeSearchHandler(e)}\n            />\n          </Form>\n        </Col>\n      </Row>\n      {storesLoading || profileLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <Row\n            className=\"mt-3 align-items-center pb-2\"\n            style={{ borderBottom: \"solid 1px lightgrey\" }}\n          >\n            <Col className=\"text-center justify-content-center\" md={2}>\n              <Image\n                src={profile.image}\n                style={{ width: \"auto\", maxWidth: \"15rem\", maxHeight: \"5rem\" }}\n              />\n            </Col>\n            <Col md={9}>\n              <ListGroup variant=\"flush\" style={{ fontSize: \"0.8rem\" }}>\n                <ListGroup.Item>\n                  <strong>Industry: </strong>\n                  {profile.industry}\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <strong>Headquarter: </strong>\n                  {profile.headquarter}\n                </ListGroup.Item>\n                <ListGroup.Item>\n                  <strong>Description: </strong>\n                  {profile.description}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n          </Row>\n          <Row className=\"mt-3 px-2\">\n            <Col md={2} className=\"seller-sidebar\">\n              <strong>\n                <p style={{ textAlign: \"center\", fontSize: \"0.9rem\" }}>\n                  {store === \"\"\n                    ? \"Filter products by store\"\n                    : `You can search in store`}\n                </p>\n              </strong>\n\n              {stores &&\n                stores.map((sellerStore) => {\n                  return (\n                    <Row style={{ justifyContent: \"center\" }}>\n                      <Button\n                        onClick={() => setStore(sellerStore)}\n                        className=\"seller-store-button\"\n                      >\n                        {sellerStore.name}\n                      </Button>\n                    </Row>\n                  );\n                })}\n              {store !== \"\" && (\n                <Row style={{ justifyContent: \"center\" }}>\n                  <Button\n                    variant=\"secondary\"\n                    onClick={() => (\n                      setStore(\"\"), dispatch(listProductsByUser(params.id))\n                    )}\n                    className=\"m-2\"\n                    style={{ width: \"5rem\", backgroundColor: \"white\" }}\n                  >\n                    Back\n                  </Button>\n                </Row>\n              )}\n            </Col>\n            <Col className=\"mx-1\">\n              <Row\n                style={{ textAlign: \"center\" }}\n                className=\"product-card-container\"\n              >\n                {products &&\n                  products.length === 0 &&\n                  (value !== \"\" ? (\n                    store !== \"\" ? (\n                      <h5>No search results in {store.name} store!</h5>\n                    ) : (\n                      <h5>No search results in stocks!</h5>\n                    )\n                  ) : (\n                    <h5>Currently no product to show!</h5>\n                  ))}\n                <Row className=\"product-card-row\">\n                  {products &&\n                    products.map((product, index) => {\n                      return <ProductCard product={product} key={index} />;\n                    })}\n                </Row>\n              </Row>\n            </Col>\n          </Row>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default Seller;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}