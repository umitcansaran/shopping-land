{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Button,Row,Form,Image}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{listProductCategories}from\"../store/actions/categoriesActions\";import{updateProfile}from\"../store/actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfile(){const{user}=useSelector(state=>state.myDetails);const{categories}=useSelector(state=>state.productCategories);const profile=user&&user.profile;const[industry,setIndustry]=useState(profile.industry);const[headquarter,setHeadquarter]=useState(profile.headquarter);const[description,setDescription]=useState(profile.description);const[image,setImage]=useState(profile.image);const[category,setCategory]=useState(profile.category);const dispatch=useDispatch();useEffect(()=>{dispatch(listProductCategories());},[dispatch]);const handleImageChange=e=>{const image=e.target.files[0];setImage(image);};const handleCategoryChange=e=>{var options=e.target.options;var category=[];for(var i=0,l=options.length;i<l;i++){if(options[i].selected){category.push(options[i].value);}}setCategory(category);};const submitHandler=async e=>{e.preventDefault();let formData=new FormData();if(image.type){formData.append(\"image\",image,image.name);}for(var i=0;i<category.length;i++){formData.append(\"category\",category[i]);}formData.set(\"industry\",industry);formData.set(\"headquarter\",headquarter);formData.set(\"description\",description);dispatch(updateProfile(profile,formData));};return/*#__PURE__*/_jsxs(Container,{style:{width:\"40%\",alignItems:\"center\",marginTop:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:\"center\",color:\"#1e478a\"},children:\"Edit Your Profile\"}),/*#__PURE__*/_jsxs(Row,{className:\"mt-3 justify-content-center text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{children:user.username}),/*#__PURE__*/_jsx(Image,{src:user.profile.image,style:{width:\"10rem\",height:\"auto\"}})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Image\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange})})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Categories\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"select\",type:\"text\",name:\"category\",value:category,onChange:handleCategoryChange,multiple:true,children:categories&&categories.map(category=>{return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id);})})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Industry\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter industry\",value:industry,onChange:e=>setIndustry(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Headquarter\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter headquarter\",value:headquarter,onChange:e=>setHeadquarter(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter description\",value:description,onChange:e=>setDescription(e.target.value),as:\"textarea\",row:\"5\"})]}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"mt-3\",style:{width:\"10rem\"},children:\"Save\"})})]})]});}export default EditProfile;","map":{"version":3,"names":["React","useEffect","useState","Container","Button","Row","Form","Image","useDispatch","useSelector","listProductCategories","updateProfile","EditProfile","user","state","myDetails","categories","productCategories","profile","industry","setIndustry","headquarter","setHeadquarter","description","setDescription","image","setImage","category","setCategory","dispatch","handleImageChange","e","target","files","handleCategoryChange","options","i","l","length","selected","push","value","submitHandler","preventDefault","formData","FormData","type","append","name","set","width","alignItems","marginTop","textAlign","color","username","height","map","id"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/components/EditProfileScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Button, Row, Form, Image } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProductCategories } from \"../store/actions/categoriesActions\";\nimport { updateProfile } from \"../store/actions/userActions\";\n\nfunction EditProfile() {\n  const { user } = useSelector((state) => state.myDetails);\n  const { categories } = useSelector((state) => state.productCategories);\n\n  const profile = user && user.profile;\n\n  const [industry, setIndustry] = useState(profile.industry);\n  const [headquarter, setHeadquarter] = useState(profile.headquarter);\n  const [description, setDescription] = useState(profile.description);\n  const [image, setImage] = useState(profile.image);\n  const [category, setCategory] = useState(profile.category);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(listProductCategories());\n  }, [dispatch]);\n\n  const handleImageChange = (e) => {\n    const image = e.target.files[0];\n    setImage(image);\n  };\n\n  const handleCategoryChange = (e) => {\n    var options = e.target.options;\n    var category = [];\n    for (var i = 0, l = options.length; i < l; i++) {\n      if (options[i].selected) {\n        category.push(options[i].value);\n      }\n    }\n    setCategory(category);\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    let formData = new FormData();\n\n    if (image.type) {\n      formData.append(\"image\", image, image.name);\n    }\n\n    for (var i = 0; i < category.length; i++) {\n      formData.append(\"category\", category[i]);\n    }\n\n    formData.set(\"industry\", industry);\n    formData.set(\"headquarter\", headquarter);\n    formData.set(\"description\", description);\n\n    dispatch(updateProfile(profile, formData));\n  };\n\n  return (\n    <Container\n      style={{ width: \"40%\", alignItems: \"center\", marginTop: \"2rem\" }}\n    >\n      <h4 style={{ textAlign: \"center\", color: \"#1e478a\" }}>\n        Edit Your Profile\n      </h4>\n      <Row className=\"mt-3 justify-content-center text-center\">\n        <h5>{user.username}</h5>\n        <Image\n          src={user.profile.image}\n          style={{ width: \"10rem\", height: \"auto\" }}\n        />\n      </Row>\n\n      <Form onSubmit={submitHandler}>\n        <Form.Group className=\"mb-4\">\n          <Form.Label>Image</Form.Label>\n          <div>\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} />\n          </div>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Categories</Form.Label>\n          <Form.Control\n            as=\"select\"\n            type=\"text\"\n            name=\"category\"\n            value={category}\n            onChange={handleCategoryChange}\n            multiple\n          >\n            {categories &&\n              categories.map((category) => {\n                return (\n                  <option value={category.id} key={category.id}>\n                    {category.name}\n                  </option>\n                );\n              })}\n          </Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Industry</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter industry\"\n            value={industry}\n            onChange={(e) => setIndustry(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Headquarter</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter headquarter\"\n            value={headquarter}\n            onChange={(e) => setHeadquarter(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Label>Description</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            as=\"textarea\"\n            row=\"5\"\n          ></Form.Control>\n        </Form.Group>\n\n        <Row className=\"justify-content-center\">\n          <Button type=\"submit\" className=\"mt-3\" style={{ width: \"10rem\" }}>\n            Save\n          </Button>\n        </Row>\n      </Form>\n    </Container>\n  );\n}\n\nexport default EditProfile;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,MAAM,CAAEC,GAAG,CAAEC,IAAI,CAAEC,KAAK,KAAQ,iBAAiB,CACrE,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,qBAAqB,KAAQ,oCAAoC,CAC1E,OAASC,aAAa,KAAQ,8BAA8B,CAAC,wFAE7D,QAASC,YAAW,EAAG,CACrB,KAAM,CAAEC,IAAK,CAAC,CAAGJ,WAAW,CAAEK,KAAK,EAAKA,KAAK,CAACC,SAAS,CAAC,CACxD,KAAM,CAAEC,UAAW,CAAC,CAAGP,WAAW,CAAEK,KAAK,EAAKA,KAAK,CAACG,iBAAiB,CAAC,CAEtE,KAAMC,QAAO,CAAGL,IAAI,EAAIA,IAAI,CAACK,OAAO,CAEpC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAACgB,OAAO,CAACC,QAAQ,CAAC,CAC1D,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAACgB,OAAO,CAACG,WAAW,CAAC,CACnE,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAACgB,OAAO,CAACK,WAAW,CAAC,CACnE,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAACgB,OAAO,CAACO,KAAK,CAAC,CACjD,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAG1B,QAAQ,CAACgB,OAAO,CAACS,QAAQ,CAAC,CAE1D,KAAME,SAAQ,CAAGrB,WAAW,EAAE,CAE9BP,SAAS,CAAC,IAAM,CACd4B,QAAQ,CAACnB,qBAAqB,EAAE,CAAC,CACnC,CAAC,CAAE,CAACmB,QAAQ,CAAC,CAAC,CAEd,KAAMC,kBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAMN,MAAK,CAAGM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC/BP,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,CAED,KAAMS,qBAAoB,CAAIH,CAAC,EAAK,CAClC,GAAII,QAAO,CAAGJ,CAAC,CAACC,MAAM,CAACG,OAAO,CAC9B,GAAIR,SAAQ,CAAG,EAAE,CACjB,IAAK,GAAIS,EAAC,CAAG,CAAC,CAAEC,CAAC,CAAGF,OAAO,CAACG,MAAM,CAAEF,CAAC,CAAGC,CAAC,CAAED,CAAC,EAAE,CAAE,CAC9C,GAAID,OAAO,CAACC,CAAC,CAAC,CAACG,QAAQ,CAAE,CACvBZ,QAAQ,CAACa,IAAI,CAACL,OAAO,CAACC,CAAC,CAAC,CAACK,KAAK,CAAC,CACjC,CACF,CACAb,WAAW,CAACD,QAAQ,CAAC,CACvB,CAAC,CAED,KAAMe,cAAa,CAAG,KAAOX,EAAC,EAAK,CACjCA,CAAC,CAACY,cAAc,EAAE,CAClB,GAAIC,SAAQ,CAAG,GAAIC,SAAQ,EAAE,CAE7B,GAAIpB,KAAK,CAACqB,IAAI,CAAE,CACdF,QAAQ,CAACG,MAAM,CAAC,OAAO,CAAEtB,KAAK,CAAEA,KAAK,CAACuB,IAAI,CAAC,CAC7C,CAEA,IAAK,GAAIZ,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGT,QAAQ,CAACW,MAAM,CAAEF,CAAC,EAAE,CAAE,CACxCQ,QAAQ,CAACG,MAAM,CAAC,UAAU,CAAEpB,QAAQ,CAACS,CAAC,CAAC,CAAC,CAC1C,CAEAQ,QAAQ,CAACK,GAAG,CAAC,UAAU,CAAE9B,QAAQ,CAAC,CAClCyB,QAAQ,CAACK,GAAG,CAAC,aAAa,CAAE5B,WAAW,CAAC,CACxCuB,QAAQ,CAACK,GAAG,CAAC,aAAa,CAAE1B,WAAW,CAAC,CAExCM,QAAQ,CAAClB,aAAa,CAACO,OAAO,CAAE0B,QAAQ,CAAC,CAAC,CAC5C,CAAC,CAED,mBACE,MAAC,SAAS,EACR,KAAK,CAAE,CAAEM,KAAK,CAAE,KAAK,CAAEC,UAAU,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,wBAEjE,WAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAE,+BAEhD,cACL,MAAC,GAAG,EAAC,SAAS,CAAC,yCAAyC,wBACtD,oBAAKzC,IAAI,CAAC0C,QAAQ,EAAM,cACxB,KAAC,KAAK,EACJ,GAAG,CAAE1C,IAAI,CAACK,OAAO,CAACO,KAAM,CACxB,KAAK,CAAE,CAAEyB,KAAK,CAAE,OAAO,CAAEM,MAAM,CAAE,MAAO,CAAE,EAC1C,GACE,cAEN,MAAC,IAAI,EAAC,QAAQ,CAAEd,aAAc,wBAC5B,MAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,MAAM,wBAC1B,KAAC,IAAI,CAAC,KAAK,oBAAmB,cAC9B,kCACE,cAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAEZ,iBAAkB,EAAG,EAC/D,GACK,cAEb,MAAC,IAAI,CAAC,KAAK,yBACT,KAAC,IAAI,CAAC,KAAK,yBAAwB,cACnC,KAAC,IAAI,CAAC,OAAO,EACX,EAAE,CAAC,QAAQ,CACX,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,UAAU,CACf,KAAK,CAAEH,QAAS,CAChB,QAAQ,CAAEO,oBAAqB,CAC/B,QAAQ,eAEPlB,UAAU,EACTA,UAAU,CAACyC,GAAG,CAAE9B,QAAQ,EAAK,CAC3B,mBACE,eAAQ,KAAK,CAAEA,QAAQ,CAAC+B,EAAG,UACxB/B,QAAQ,CAACqB,IAAI,EADiBrB,QAAQ,CAAC+B,EAAE,CAEnC,CAEb,CAAC,CAAC,EACS,GACJ,cAEb,MAAC,IAAI,CAAC,KAAK,yBACT,KAAC,IAAI,CAAC,KAAK,uBAAsB,cACjC,KAAC,IAAI,CAAC,OAAO,EACX,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,gBAAgB,CAC5B,KAAK,CAAEvC,QAAS,CAChB,QAAQ,CAAGY,CAAC,EAAKX,WAAW,CAACW,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE,EAC/B,GACL,cAEb,MAAC,IAAI,CAAC,KAAK,yBACT,KAAC,IAAI,CAAC,KAAK,0BAAyB,cACpC,KAAC,IAAI,CAAC,OAAO,EACX,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,mBAAmB,CAC/B,KAAK,CAAEpB,WAAY,CACnB,QAAQ,CAAGU,CAAC,EAAKT,cAAc,CAACS,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE,EAClC,GACL,cAEb,MAAC,IAAI,CAAC,KAAK,yBACT,KAAC,IAAI,CAAC,KAAK,0BAAyB,cACpC,KAAC,IAAI,CAAC,OAAO,EACX,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,mBAAmB,CAC/B,KAAK,CAAElB,WAAY,CACnB,QAAQ,CAAGQ,CAAC,EAAKP,cAAc,CAACO,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE,CAChD,EAAE,CAAC,UAAU,CACb,GAAG,CAAC,GAAG,EACO,GACL,cAEb,KAAC,GAAG,EAAC,SAAS,CAAC,wBAAwB,uBACrC,KAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAE,CAAES,KAAK,CAAE,OAAQ,CAAE,kBAExD,EACL,GACD,GACG,CAEhB,CAEA,cAAetC,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}