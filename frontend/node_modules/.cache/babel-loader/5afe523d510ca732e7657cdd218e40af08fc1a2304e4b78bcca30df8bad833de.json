{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Button,Row,Col,Table,Container}from\"react-bootstrap\";import{LinkContainer}from\"react-router-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import Loader from\"../../components/Loader\";import Message from\"../../components/Message\";import{listMyOrders}from\"../../store/actions/orderActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CustomerOrders(){const dispatch=useDispatch();const navigate=useNavigate();const{loading:loadingOrders,error:errorOrders,orders}=useSelector(state=>state.purchaseMyList);useEffect(()=>{dispatch(listMyOrders());},[dispatch,navigate]);return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Col,{children:loadingOrders?/*#__PURE__*/_jsx(Loader,{}):errorOrders?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorOrders}):orders.length===0?/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"You have no orders.\"}):/*#__PURE__*/_jsxs(Table,{striped:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:\"#f2f5fa\"},children:/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Paid\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Payment Method\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"td\",{children:order.id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[\"CHF \",order.totalPrice]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:\"red\"}})}),/*#__PURE__*/_jsx(\"td\",{children:order.paymentMethod}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:`/customer-order/${order.id}`,children:/*#__PURE__*/_jsx(Button,{className:\"btn-sm\",children:\"Details\"})})})]},order.id))})]})})});}export default CustomerOrders;","map":{"version":3,"names":["React","useState","useEffect","Button","Row","Col","Table","Container","LinkContainer","useDispatch","useSelector","useNavigate","Loader","Message","listMyOrders","CustomerOrders","dispatch","navigate","loading","loadingOrders","error","errorOrders","orders","state","purchaseMyList","length","backgroundColor","textAlign","map","order","id","createdAt","substring","totalPrice","isPaid","paidAt","color","paymentMethod"],"sources":["/Users/umit/Desktop/shopping-land express-react/shopping-land/frontend/src/containers/CustomerOrders/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Row, Col, Table, Container } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport Loader from \"../../components/Loader\";\nimport Message from \"../../components/Message\";\nimport { listMyOrders } from \"../../store/actions/orderActions\";\n\nfunction CustomerOrders() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const {\n    loading: loadingOrders,\n    error: errorOrders,\n    orders,\n  } = useSelector((state) => state.purchaseMyList);\n\n  useEffect(() => {\n    dispatch(listMyOrders());\n  }, [dispatch, navigate]);\n\n  return (\n    <Container fluid>\n      <Col>\n        {loadingOrders ? (\n          <Loader />\n        ) : errorOrders ? (\n          <Message variant=\"danger\">{errorOrders}</Message>\n        ) : orders.length === 0 ? (\n          <h2 className=\"text-center\">You have no orders.</h2>\n        ) : (\n          <Table striped responsive className=\"table-sm\">\n            <thead style={{ backgroundColor: \"#f2f5fa\" }}>\n              <tr style={{ textAlign: \"center\" }}>\n                <th>ID</th>\n                <th>Date</th>\n                <th>Total</th>\n                <th>Paid</th>\n                <th>Payment Method</th>\n                <th></th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {orders.map((order) => (\n                <tr key={order.id} style={{ textAlign: \"center\" }}>\n                  <td>{order.id}</td>\n                  <td>{order.createdAt.substring(0, 10)}</td>\n                  <td>CHF {order.totalPrice}</td>\n                  <td>\n                    {order.isPaid ? (\n                      order.paidAt.substring(0, 10)\n                    ) : (\n                      <i className=\"fas fa-times\" style={{ color: \"red\" }}></i>\n                    )}\n                  </td>\n                  <td>{order.paymentMethod}</td>\n                  <td>\n                    <LinkContainer to={`/customer-order/${order.id}`}>\n                      <Button className=\"btn-sm\">Details</Button>\n                    </LinkContainer>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        )}\n      </Col>\n    </Container>\n  );\n}\n\nexport default CustomerOrders;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,GAAG,CAAEC,GAAG,CAAEC,KAAK,CAAEC,SAAS,KAAQ,iBAAiB,CACpE,OAASC,aAAa,KAAQ,wBAAwB,CACtD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,OAAM,KAAM,yBAAyB,CAC5C,MAAOC,QAAO,KAAM,0BAA0B,CAC9C,OAASC,YAAY,KAAQ,kCAAkC,CAAC,wFAEhE,QAASC,eAAc,EAAG,CACxB,KAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,KAAMQ,SAAQ,CAAGN,WAAW,EAAE,CAE9B,KAAM,CACJO,OAAO,CAAEC,aAAa,CACtBC,KAAK,CAAEC,WAAW,CAClBC,MACF,CAAC,CAAGZ,WAAW,CAAEa,KAAK,EAAKA,KAAK,CAACC,cAAc,CAAC,CAEhDtB,SAAS,CAAC,IAAM,CACdc,QAAQ,CAACF,YAAY,EAAE,CAAC,CAC1B,CAAC,CAAE,CAACE,QAAQ,CAAEC,QAAQ,CAAC,CAAC,CAExB,mBACE,KAAC,SAAS,EAAC,KAAK,4BACd,KAAC,GAAG,WACDE,aAAa,cACZ,KAAC,MAAM,IAAG,CACRE,WAAW,cACb,KAAC,OAAO,EAAC,OAAO,CAAC,QAAQ,UAAEA,WAAW,EAAW,CAC/CC,MAAM,CAACG,MAAM,GAAK,CAAC,cACrB,WAAI,SAAS,CAAC,aAAa,iCAAyB,cAEpD,MAAC,KAAK,EAAC,OAAO,MAAC,UAAU,MAAC,SAAS,CAAC,UAAU,wBAC5C,cAAO,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,uBAC3C,YAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,wBACjC,0BAAW,cACX,4BAAa,cACb,6BAAc,cACd,4BAAa,cACb,sCAAuB,cACvB,aAAS,GACN,EACC,cAER,uBACGL,MAAM,CAACM,GAAG,CAAEC,KAAK,eAChB,YAAmB,KAAK,CAAE,CAAEF,SAAS,CAAE,QAAS,CAAE,wBAChD,oBAAKE,KAAK,CAACC,EAAE,EAAM,cACnB,oBAAKD,KAAK,CAACE,SAAS,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,EAAM,cAC3C,6BAASH,KAAK,CAACI,UAAU,GAAM,cAC/B,oBACGJ,KAAK,CAACK,MAAM,CACXL,KAAK,CAACM,MAAM,CAACH,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,cAE7B,UAAG,SAAS,CAAC,cAAc,CAAC,KAAK,CAAE,CAAEI,KAAK,CAAE,KAAM,CAAE,EACrD,EACE,cACL,oBAAKP,KAAK,CAACQ,aAAa,EAAM,cAC9B,iCACE,KAAC,aAAa,EAAC,EAAE,CAAG,mBAAkBR,KAAK,CAACC,EAAG,EAAE,uBAC/C,KAAC,MAAM,EAAC,SAAS,CAAC,QAAQ,qBAAiB,EAC7B,EACb,GAhBED,KAAK,CAACC,EAAE,CAkBlB,CAAC,EACI,GAEX,EACG,EACI,CAEhB,CAEA,cAAef,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}